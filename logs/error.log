{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Error creating transaction: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sql":"INSERT INTO transactions \n            (user_id, collection_point_id, waste_type_id, quantity, unit, proof_image_url) \n         VALUES (?, ?, ?, ?, ?, ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)\n    at PromisePoolConnection.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:262:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:21.994Z"}
{"level":"error","message":"Error in createTransaction: DatabaseError is not a constructor","stack":"TypeError: DatabaseError is not a constructor\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:291:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:21.999Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Error creating transaction: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sql":"INSERT INTO transactions \n            (user_id, collection_point_id, waste_type_id, quantity, unit, proof_image_url) \n         VALUES (?, ?, ?, ?, ?, ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)\n    at PromisePoolConnection.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:262:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:28.709Z"}
{"level":"error","message":"Error in createTransaction: DatabaseError is not a constructor","stack":"TypeError: DatabaseError is not a constructor\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:291:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:28.711Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Error creating transaction: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sql":"INSERT INTO transactions \n            (user_id, collection_point_id, waste_type_id, quantity, unit, proof_image_url) \n         VALUES (?, ?, ?, ?, ?, ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)\n    at PromisePoolConnection.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:262:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:37.268Z"}
{"level":"error","message":"Error in createTransaction: DatabaseError is not a constructor","stack":"TypeError: DatabaseError is not a constructor\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:291:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:37.271Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Error creating transaction: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sql":"INSERT INTO transactions \n            (user_id, collection_point_id, waste_type_id, quantity, unit, proof_image_url) \n         VALUES (?, ?, ?, ?, ?, ?)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)","sqlState":"23000","stack":"Error: Cannot add or update a child row: a foreign key constraint fails (`quanliracthai`.`transactions`, CONSTRAINT `transactions_ibfk_3` FOREIGN KEY (`waste_type_id`) REFERENCES `wastetypes` (`waste_type_id`) ON DELETE SET NULL)\n    at PromisePoolConnection.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\connection.js:47:22)\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:262:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:44.770Z"}
{"level":"error","message":"Error in createTransaction: DatabaseError is not a constructor","stack":"TypeError: DatabaseError is not a constructor\n    at TransactionRepository.createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:291:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async createTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:130:27)","timestamp":"2025-04-23T11:30:44.772Z"}
{"isOperational":true,"level":"error","message":"Error getting transaction #4: Giao dịch không tồn tại","name":"NotFoundError","stack":"NotFoundError: Giao dịch không tồn tại\n    at TransactionRepository.getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:212:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:80:27)","status":"fail","statusCode":404,"timestamp":"2025-04-23T11:37:47.336Z"}
{"isOperational":true,"level":"error","message":"Error in getTransactionById (4): Giao dịch không tồn tại","name":"NotFoundError","stack":"NotFoundError: Giao dịch không tồn tại\n    at TransactionRepository.getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:212:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:80:27)","status":"fail","statusCode":404,"timestamp":"2025-04-23T11:37:47.340Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting all transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, u.full_name as user_name, u.username, \n               cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN users u ON t.user_id = u.user_id\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n       WHERE t.status = ? ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:69:41)\n    at getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:84:5\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:37:59.546Z"}
{"isOperational":true,"level":"error","message":"Error in getAllTransactions: Error retrieving transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving transactions\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:91:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:37:59.549Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting all transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, u.full_name as user_name, u.username, \n               cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN users u ON t.user_id = u.user_id\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n       WHERE t.status = ? AND t.collection_point_id = ? AND t.waste_type_id = ? ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:69:41)\n    at getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:84:5\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:40:00.638Z"}
{"isOperational":true,"level":"error","message":"Error in getAllTransactions: Error retrieving transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving transactions\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:91:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:40:00.642Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting all transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, u.full_name as user_name, u.username, \n               cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN users u ON t.user_id = u.user_id\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n       ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:69:41)\n    at getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:84:5\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:41:02.108Z"}
{"isOperational":true,"level":"error","message":"Error in getAllTransactions: Error retrieving transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving transactions\n    at TransactionRepository.getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:91:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getAllTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:25:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:41:02.109Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting user transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n        WHERE t.user_id = ?\n       ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:147:41)\n    at getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:41:49.291Z"}
{"isOperational":true,"level":"error","message":"Error in getUserTransactions: Error retrieving user transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving user transactions\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:191:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:41:49.294Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting user transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n        WHERE t.user_id = ?\n       ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:147:41)\n    at getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:42:06.031Z"}
{"isOperational":true,"level":"error","message":"Error in getUserTransactions: Error retrieving user transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving user transactions\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:191:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:42:06.033Z"}
{"isOperational":true,"level":"error","message":"Error getting transaction #4: Giao dịch không tồn tại","name":"NotFoundError","stack":"NotFoundError: Giao dịch không tồn tại\n    at TransactionRepository.getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:212:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getTransactionHistory (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:244:27)","status":"fail","statusCode":404,"timestamp":"2025-04-23T11:44:02.643Z"}
{"isOperational":true,"level":"error","message":"Error in getTransactionHistory (4): Giao dịch không tồn tại","name":"NotFoundError","stack":"NotFoundError: Giao dịch không tồn tại\n    at TransactionRepository.getTransactionById (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:212:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getTransactionHistory (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:244:27)","status":"fail","statusCode":404,"timestamp":"2025-04-23T11:44:02.646Z"}
{"level":"error","message":"Error updating transaction #8: Chỉ có thể cập nhật giao dịch đang chờ xử lý","stack":"Error: Chỉ có thể cập nhật giao dịch đang chờ xử lý\n    at TransactionRepository.updateTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:322:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:176:27)","timestamp":"2025-04-23T11:46:50.449Z"}
{"isOperational":true,"level":"error","message":"Error in updateTransaction (8): Không thể cập nhật giao dịch: Chỉ có thể cập nhật giao dịch đang chờ xử lý","name":"DatabaseError","stack":"DatabaseError: Không thể cập nhật giao dịch: Chỉ có thể cập nhật giao dịch đang chờ xử lý\n    at TransactionRepository.updateTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:378:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async updateTransaction (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:176:27)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:46:50.451Z"}
{"code":"ER_WRONG_ARGUMENTS","errno":1210,"level":"error","message":"Error getting user transactions: Incorrect arguments to mysqld_stmt_execute","sql":"\n        SELECT t.*, cp.name as collection_point_name, wt.name as waste_type_name\n        FROM transactions t\n        LEFT JOIN collectionpoints cp ON t.collection_point_id = cp.collection_point_id\n        LEFT JOIN wastetypes wt ON t.waste_type_id = wt.waste_type_id\n        WHERE t.user_id = ?\n       AND t.status = ? AND t.transaction_date >= ? AND t.transaction_date <= ? ORDER BY t.transaction_date DESC LIMIT ? OFFSET ?","sqlMessage":"Incorrect arguments to mysqld_stmt_execute","sqlState":"HY000","stack":"Error: Incorrect arguments to mysqld_stmt_execute\n    at PromisePool.execute (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\mysql2\\lib\\promise\\pool.js:54:22)\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:147:41)\n    at getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:50)\n    at Layer.handle [as handle_request] (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at exports.authenticateUser (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\middleware\\authMiddleware.js:55:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-23T11:50:37.171Z"}
{"isOperational":true,"level":"error","message":"Error in getUserTransactions: Error retrieving user transactions","name":"DatabaseError","stack":"DatabaseError: Error retrieving user transactions\n    at TransactionRepository.getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\repositories\\transactionRepository.js:191:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserTransactions (D:\\Android Studio\\do_an_tot_nghiep\\API-WasteManagementApp\\src\\controllers\\transactionController.js:57:22)","status":"error","statusCode":500,"timestamp":"2025-04-23T11:50:37.173Z"}
